<div class="ui padded grid" ng-init="getUsers()">
    <div class="two column row">
      <div class="column content-list">
        <div class="ui animated divided list">
          <div class="item" ng-repeat="user in users" ng-class="{active: selected.id === user.id}" ng-click="selectUser($index)">
            <i class="user icon"></i>
            <div class="content">
              <div class="header">{{user.profile_attributes.name}}</div>
              <div class="description"><b>{{user.role}}</b>, {{user.email}}</div>
            </div>
          </div>
        </div>
      </div>

      <div class="column content-workspace">
        <h2 ng-if="selected.profile_attributes.name == null || selected.profile_attributes == undefined">New User</h2>
        <h2 ng-if="selected.profile_attributes.name == ''">User Name</h2>
        <h2 ng-if="selected.profile_attributes.name">{{selected.profile_attributes.name}}</h2>
        <div class="ui divider"></div>

        <form class="ui form">
          <div class="two fields">
            <div class="field required">
              <label>Name</label>
              <input placeholder="Full name" type="text" ng-model="selected.profile_attributes.name">
            </div>
            <div class="field required">
              <label>Phone</label>
              <input placeholder="Phone number" type="text" ng-model="selected.profile_attributes.phone">
            </div>
          </div>
          <div class="two fields">
            <div class="field">
              <label>Join At</label>
              <div class="ui icon input">
                 <input class="pickaday" placeholder="Join date" type="text" ng-model="selected.profile_attributes.join_at">
                 <i class="calendar icon"></i>
               </div>
            </div>
            <div class="field">
              <label>Contract Until</label>
              <div class="ui icon input">
                 <input class="pickaday" placeholder="Contract expire" type="text" ng-model="selected.profile_attributes.contract_until">
                 <i class="calendar icon"></i>
               </div>
            </div>
          </div>
          <div class="field">
            <label>Address</label>
            <textarea placeholder="Address" ng-model="selected.profile_attributes.address"></textarea>
          </div>

          <h4 class="ui top attached header">Account Info</h4>
          <div class="ui bottom attached segment">
            <div class="two fields">
              <div class="required field">
                <label>Email</label>
                <div class="ui icon input">
                  <input placeholder="Username" type="text" ng-model="selected.email">
                  <i class="envelope icon"></i>
                </div>
              </div>
              <div class="required field">
                <label class="transparent">Role</label>
                <dropdown title="Role" ng-model="selected.role" open="false" class="transparent">
                    <dropdown-group value="eresto">Eresto</dropdown-group>
                    <dropdown-group value="owner">Owner</dropdown-group>
                    <dropdown-group value="superadmin">Superadmin</dropdown-group>
                    <dropdown-group value="manager">Manager</dropdown-group>
                    <dropdown-group value="assistant_manager">Assistant Manager</dropdown-group>
                    <dropdown-group value="waitress">Waitress</dropdown-group>
                    <dropdown-group value="captain">Captain</dropdown-group>
                    <dropdown-group value="cashier">Cashier</dropdown-group>
                    <dropdown-group value="chef">Chef</dropdown-group>
                </dropdown>
              </div>
            </div>
            <div class="two fields">
              <div class="field">
                <label>New Password</label>
                <div class="ui icon input">
                  <input type="password" placeholder="New Password" ng-model="selected.password">
                  <i class="lock icon"></i>
                </div>
              </div>
              <div class="field">
                <label>Password Confirmation</label>
                <div class="ui icon input">
                  <input type="password" placeholder="New Password Confirmation">
                  <i class="lock icon"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="ui error message">
            <div class="header">We noticed some issues</div>
          </div>
          <div class="ui red right labeled icon button" ng-click="saveData()">
            <i class="save icon"></i>
            <span ng-if="formType === 'existing'"> Update</span>
            <span ng-if="formType === 'new'"> Save</span>
          </div>
        </form>
      </div>
    </div>
</div>
